//https://api.apiopen.top/musicRankings
//let dataStr = '{"code":200,"message":"成功!","result":[{"pic_s210":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_734232335ef76f5a05179797875817f3.jpg","bg_pic":"http://business0.qianqian.com/qianqian/file/5bfe4e9aa7496_218.png","color":"0xDC5900","pic_s444":"http://hiphotos.qianqian.com/ting/pic/item/c83d70cf3bc79f3d98ca8e36b8a1cd11728b2988.jpg","count":4,"type":2,"content":[{"all_rate":"96,128,224,320,flac","song_id":"242078437","rank_change":"0","biaoshi":"lossless,vip,perm-1","author":"薛之谦","album_id":"241838068","pic_small":"http://qukufile2.qianqian.com/data2/pic/49e6161afb13e3eda9d1cb4e304561a2/672379232/672379232.jpg@s_2,w_90,h_90","title":"演员","pic_big":"http://qukufile2.qianqian.com/data2/pic/49e6161afb13e3eda9d1cb4e304561a2/672379232/672379232.jpg@s_2,w_150,h_150","album_title":"初学者"},{"all_rate":"96,128,224,320,flac","song_id":"672299768","rank_change":"0","biaoshi":"lossless,vip,perm-3","author":"周深","album_id":"672299766","pic_small":"http://qukufile2.qianqian.com/data2/pic/841d0b9558761f889a3a562ef0aba53c/672377576/672377576.jpg@s_2,w_90,h_90","title":"愿得一心人（《鹤唳华亭》主题曲）","pic_big":"http://qukufile2.qianqian.com/data2/pic/841d0b9558761f889a3a562ef0aba53c/672377576/672377576.jpg@s_2,w_150,h_150","album_title":"愿得一心人（《鹤唳华亭》主题曲）"},{"all_rate":"96,224,128,320,flac","song_id":"601427388","rank_change":"0","biaoshi":"lossless,perm-3","author":"火箭少女101","album_id":"601427384","pic_small":"http://qukufile2.qianqian.com/data2/pic/8d356491f24692ff802cc49c80f51fee/612356223/612356223.jpg@s_2,w_90,h_90","title":"卡路里（电影《西虹市首富》插曲）","pic_big":"http://qukufile2.qianqian.com/data2/pic/8d356491f24692ff802cc49c80f51fee/612356223/612356223.jpg@s_2,w_150,h_150","album_title":"卡路里（电影《西虹市首富》插曲）"},{"all_rate":"96,128,224,320,flac","song_id":"670321643","rank_change":"0","biaoshi":"lossless,vip,perm-1","author":"封益成","album_id":"670321640","pic_small":"http://qukufile2.qianqian.com/data2/pic/d9c460bf981eb60f50dc358b4f7134aa/670321661/670321661.jpg@s_2,w_90,h_90","title":"站着等你三千年","pic_big":"http://qukufile2.qianqian.com/data2/pic/d9c460bf981eb60f50dc358b4f7134aa/670321661/670321661.jpg@s_2,w_150,h_150","album_title":"其实我是很爱你"}],"bg_color":"0xFBEFE6","web_url":"","name":"热歌榜","comment":"该榜单是根据千千音乐平台歌曲每周播放量自动生成的数据榜单，统计范围为千千音乐平台上的全部歌曲，每日更新一次","pic_s192":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_1452f36a8dc430ccdb8f6e57be6df2ee.jpg","pic_s260":"http://hiphotos.qianqian.com/ting/pic/item/838ba61ea8d3fd1f1326c83c324e251f95ca5f8c.jpg"},{"pic_s210":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_dea655f4be544132fb0b5899f063d82e.jpg","bg_pic":"http://business0.qianqian.com/qianqian/file/5c3d586d234b4_292.png","color":"0x5B9400","pic_s444":"http://hiphotos.qianqian.com/ting/pic/item/78310a55b319ebc4845c84eb8026cffc1e17169f.jpg","count":4,"type":1,"content":[{"all_rate":"96,128,224,320,flac","song_id":"672299768","rank_change":"0","biaoshi":"lossless,vip,perm-3","author":"周深","album_id":"672299766","pic_small":"http://qukufile2.qianqian.com/data2/pic/841d0b9558761f889a3a562ef0aba53c/672377576/672377576.jpg@s_2,w_90,h_90","title":"愿得一心人（《鹤唳华亭》主题曲）","pic_big":"http://qukufile2.qianqian.com/data2/pic/841d0b9558761f889a3a562ef0aba53c/672377576/672377576.jpg@s_2,w_150,h_150","album_title":"愿得一心人（《鹤唳华亭》主题曲）"},{"all_rate":"96,224,128,320,flac","song_id":"672346894","rank_change":"0","biaoshi":"lossless,vip,perm-1","author":"魏濛","album_id":"672346892","pic_small":"http://qukufile2.qianqian.com/data2/pic/9a8826009f16353a14b88dceb6bc7800/672377545/672377545.jpg@s_2,w_90,h_90","title":"生命狂欢","pic_big":"http://qukufile2.qianqian.com/data2/pic/9a8826009f16353a14b88dceb6bc7800/672377545/672377545.jpg@s_2,w_150,h_150","album_title":"生命狂欢"},{"all_rate":"96,224,128,320,flac","song_id":"672444254","rank_change":"2","biaoshi":"lossless,vip,perm-1","author":"陈柯宇","album_id":"672444251","pic_small":"http://qukufile2.qianqian.com/data2/pic/1c0a60b15892a3ed58fd0c7ed1fb4e9b/672565511/672565511.jpg@s_2,w_90,h_90","title":"生僻字（梦幻敦煌版）","pic_big":"http://qukufile2.qianqian.com/data2/pic/1c0a60b15892a3ed58fd0c7ed1fb4e9b/672565511/672565511.jpg@s_2,w_150,h_150","album_title":"生僻字（梦幻敦煌版）"},{"all_rate":"96,224,128,320,flac","song_id":"672480203","rank_change":"0","biaoshi":"lossless,vip,perm-1","author":"丫蛋蛋","album_id":"672480201","pic_small":"http://qukufile2.qianqian.com/data2/pic/0d3eacb3a1ae60862758dfd5a4727df9/672480210/672480210.jpg@s_2,w_90,h_90","title":"明天过后","pic_big":"http://qukufile2.qianqian.com/data2/pic/0d3eacb3a1ae60862758dfd5a4727df9/672480210/672480210.jpg@s_2,w_150,h_150","album_title":"明天过后"}],"bg_color":"0xEFF5E6","web_url":"","name":"新歌榜","comment":"该榜单是根据千千音乐平台歌曲每日播放量自动生成的数据榜单，统计范围为近期发行的歌曲，每日更新一次","pic_s192":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_9a4fbbbfa50203aaa9e69bf189c6a45b.jpg","pic_s260":"http://hiphotos.qianqian.com/ting/pic/item/e850352ac65c1038cb0f3cb0b0119313b07e894b.jpg"},{"pic_s210":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_e58a5196bcd49d77d4a099b60b0bc03b.jpg","bg_pic":"http://business0.qianqian.com/qianqian/file/5bfe4eacbcea8_225.png","color":"0x21BFA6","pic_s444":"http://hiphotos.qianqian.com/ting/pic/item/738b4710b912c8fca95d9ecbfe039245d688210d.jpg","count":4,"type":25,"content":[{"all_rate":"96,128,224,320,flac","song_id":"670325973","rank_change":"0","biaoshi":"lossless,perm-1","author":"慕容晓晓,冯伟杰","album_id":"670325971","pic_small":"http://qukufile2.qianqian.com/data2/pic/5a838bce183899172ec14fb5010b5fc5/670326051/670326051.jpg@s_2,w_90,h_90","title":"太多","pic_big":"http://qukufile2.qianqian.com/data2/pic/5a838bce183899172ec14fb5010b5fc5/670326051/670326051.jpg@s_2,w_150,h_150","album_title":"太多"},{"all_rate":"96,224,128,320,flac","song_id":"614133806","rank_change":"1","biaoshi":"first,lossless,perm-3","author":"龙梅子,郭晨冬","album_id":"614133803","pic_small":"http://qukufile2.qianqian.com/data2/pic/e3b6310ecbe403eec3e25a497af16d3d/614133837/614133837.jpg@s_2,w_90,h_90","title":"勇士的荣耀","pic_big":"http://qukufile2.qianqian.com/data2/pic/e3b6310ecbe403eec3e25a497af16d3d/614133837/614133837.jpg@s_2,w_150,h_150","album_title":"勇士的荣耀"},{"all_rate":"96,128,224,320,flac","song_id":"602980311","rank_change":"-1","biaoshi":"lossless,perm-1","author":"龙梅子,王娜","album_id":"602980305","pic_small":"http://qukufile2.qianqian.com/data2/pic/015c6c99e1ced5261f624ef20cd7912f/660123395/660123395.jpg@s_2,w_90,h_90","title":"至少还有你爱我","pic_big":"http://qukufile2.qianqian.com/data2/pic/015c6c99e1ced5261f624ef20cd7912f/660123395/660123395.jpg@s_2,w_150,h_150","album_title":"至少还有你爱我"},{"all_rate":"96,128,224,320,flac","song_id":"613648854","rank_change":"0","biaoshi":"first,lossless,perm-1","author":"龙梅子","album_id":"613648851","pic_small":"http://qukufile2.qianqian.com/data2/pic/50d95588aa0ecf5e9c0b944148ef6727/613668338/613668338.jpg@s_2,w_90,h_90","title":"蝶恋花·愿为花更美（电影《月亮河之恋》片尾曲）","pic_big":"http://qukufile2.qianqian.com/data2/pic/50d95588aa0ecf5e9c0b944148ef6727/613668338/613668338.jpg@s_2,w_150,h_150","album_title":"蝶恋花·愿为花更美（电影《月亮河之恋》片尾曲）"}],"bg_color":"0xE9F9F6","web_url":"","name":"网络歌曲榜","comment":"实时展现千千音乐最热门网络歌曲排行","pic_s192":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_6b67628d46638bccdc6bd8c9854b759b.jpg","pic_s260":"http://hiphotos.qianqian.com/ting/pic/item/6c224f4a20a44623d567cd649a22720e0cf3d703.jpg"},{"pic_s210":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_4de71fefad5f1fdb0a90b3c51b5a6f97.jpg","bg_pic":"http://business0.qianqian.com/qianqian/file/5bfe4ed160c12_921.png","color":"0x967456","pic_s444":"http://hiphotos.qianqian.com/ting/pic/item/f703738da97739121a5aed67fa198618367ae2bc.jpg","count":4,"type":24,"content":[{"all_rate":"flac,320,128,224,96","song_id":"257535276","rank_change":"0","biaoshi":"lossless,perm-1","author":"贾乃亮,贾云馨","album_id":"260368616","pic_small":"http://qukufile2.qianqian.com/data2/pic/260368391/260368391.jpg@s_2,w_90,h_90","title":"大王叫我来巡山","pic_big":"http://qukufile2.qianqian.com/data2/pic/260368391/260368391.jpg@s_2,w_150,h_150","album_title":"万万没想到 电影原声带"},{"all_rate":"96,128,224,320,flac","song_id":"259242650","rank_change":"0","biaoshi":"lossless,perm-3","author":"林俊杰","album_id":"258953281","pic_small":"http://qukufile2.qianqian.com/data2/pic/1ac5b0f1c95c78be5dd1f17343380a8c/613318868/613318868.jpg@s_2,w_90,h_90","title":"不潮不用花钱","pic_big":"http://qukufile2.qianqian.com/data2/pic/1ac5b0f1c95c78be5dd1f17343380a8c/613318868/613318868.jpg@s_2,w_150,h_150","album_title":"乌鸦嘴妙女郎 电视原声带"},{"all_rate":"flac,320,128,224,96","song_id":"246732955","rank_change":"1","biaoshi":"lossless,vip,perm-1","author":"林俊杰,金莎","album_id":"246732962","pic_small":"http://qukufile2.qianqian.com/data2/pic/6e725d74079aa90476655effb1b7cbf3/611737404/611737404.jpg@s_2,w_90,h_90","title":"被风吹过的夏天","pic_big":"http://qukufile2.qianqian.com/data2/pic/6e725d74079aa90476655effb1b7cbf3/611737404/611737404.jpg@s_2,w_150,h_150","album_title":"最佳前男友 电视原声"},{"all_rate":"flac,320,128,224,96","song_id":"259383061","rank_change":"2","biaoshi":"lossless,perm-1","author":"陈思思","album_id":"260257775","pic_small":"http://qukufile2.qianqian.com/data2/pic/260257749/260257749.jpg@s_2,w_90,h_90","title":"满月","pic_big":"http://qukufile2.qianqian.com/data2/pic/260257749/260257749.jpg@s_2,w_150,h_150","album_title":"满月"}],"bg_color":"0xF5F1EE","web_url":"","name":"影视金曲榜","comment":"实时展现千千音乐最热门影视歌曲排行","pic_s192":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_2347fb14878de20a3b972a8f44a5c3a8.jpg","pic_s260":"http://hiphotos.qianqian.com/ting/pic/item/9f2f070828381f3052bae5afab014c086e06f011.jpg"},{"pic_s210":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_ecd2c13c57fb27574b9e758e4f707cef.jpg","bg_pic":"http://business0.qianqian.com/qianqian/file/5bfe4e5a1364a_423.png","color":"0xD98E26","pic_s444":"http://hiphotos.qianqian.com/ting/pic/item/6f061d950a7b0208b85e57e760d9f2d3572cc825.jpg","count":4,"type":22,"content":[{"all_rate":"flac,320,128,224,96","song_id":"790142","rank_change":"0","biaoshi":"lossless,perm-3","author":"刘若英","album_id":"190892","pic_small":"http://qukufile2.qianqian.com/data2/pic/51677db1f7b51f1f1bacd1a2498665ff/190892/190892.jpg@s_2,w_90,h_90","title":"后来","pic_big":"http://qukufile2.qianqian.com/data2/pic/51677db1f7b51f1f1bacd1a2498665ff/190892/190892.jpg@s_2,w_150,h_150","album_title":"我等你"},{"all_rate":"96,128,224,320,flac","song_id":"931434","rank_change":"0","biaoshi":"lossless,perm-3","author":"周华健","album_id":"194037","pic_small":"http://qukufile2.qianqian.com/data2/pic/c9291324603915130fd366e4e94cc237/194037/194037.jpg@s_2,w_90,h_90","title":"风雨无阻","pic_big":"http://qukufile2.qianqian.com/data2/pic/c9291324603915130fd366e4e94cc237/194037/194037.jpg@s_2,w_150,h_150","album_title":"风雨无阻"},{"all_rate":"96,128,224,320,flac","song_id":"312870","rank_change":"0","biaoshi":"lossless,perm-3","author":"林忆莲,李宗盛","album_id":"66087","pic_small":"http://qukufile2.qianqian.com/data2/pic/90392fb17371a44e39097fd00846ef97/66087/66087.jpg@s_2,w_90,h_90","title":"当爱已成往事","pic_big":"http://qukufile2.qianqian.com/data2/pic/90392fb17371a44e39097fd00846ef97/66087/66087.jpg@s_2,w_150,h_150","album_title":"回忆莲莲"},{"all_rate":"96,128,224,320,flac","song_id":"704195","rank_change":"0","biaoshi":"lossless,perm-3","author":"任贤齐","album_id":"173971","pic_small":"http://qukufile2.qianqian.com/data2/pic/73a3804e1b971cbebc63d99260278136/663718496/663718496.jpg@s_2,w_90,h_90","title":"伤心太平洋","pic_big":"http://qukufile2.qianqian.com/data2/pic/73a3804e1b971cbebc63d99260278136/663718496/663718496.jpg@s_2,w_150,h_150","album_title":"情义"}],"bg_color":"0xFBF4EA","web_url":"","name":"经典老歌榜","comment":"实时展现千千音乐最热门经典老歌排行","pic_s192":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_e6b795613995b69b73861ca7e7732015.jpg","pic_s260":"http://hiphotos.qianqian.com/ting/pic/item/0bd162d9f2d3572cd909f4da8813632763d0c3c9.jpg"},{"pic_s210":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_ad19dd0cd653dbf9b2fca05b5ae6f87f.jpg","bg_pic":"http://business0.qianqian.com/qianqian/file/5bfe4e726acbc_309.png","color":"0x4A90E2","pic_s444":"http://hiphotos.qianqian.com/ting/pic/item/8d5494eef01f3a291bf6bec89b25bc315c607cfd.jpg","count":4,"type":21,"content":[{"all_rate":"96,128,224,320,flac","song_id":"590762992","rank_change":"0","biaoshi":"lossless,perm-1","author":"Vitas","album_id":"590762988","pic_small":"http://qukufile2.qianqian.com/data2/pic/4d475c81e4c562301e21c2d102165205/590761655/590761655.jpg@s_2,w_90,h_90","title":"Симфония № 4（交响乐4号）","pic_big":"http://qukufile2.qianqian.com/data2/pic/4d475c81e4c562301e21c2d102165205/590761655/590761655.jpg@s_2,w_150,h_150","album_title":"20"},{"all_rate":"96,128,224,320,flac","song_id":"289895785","rank_change":"0","biaoshi":"lossless,perm-1","author":"Richard Clayderman","album_id":"289895740","pic_small":"http://qukufile2.qianqian.com/data2/pic/5a23af15e3727cff96c8dc2ab5dbe0b9/289895756/289895756.jpg@s_2,w_90,h_90","title":"Matrimonio de Amor","pic_big":"http://qukufile2.qianqian.com/data2/pic/5a23af15e3727cff96c8dc2ab5dbe0b9/289895756/289895756.jpg@s_2,w_150,h_150","album_title":"20 Grandes Exitos"},{"all_rate":"96,128,224,320,flac","song_id":"283754906","rank_change":"0","biaoshi":"lossless,perm-1","author":"Wizard See,Clone","album_id":"283753778","pic_small":"http://qukufile2.qianqian.com/data2/pic/e8c14b9e65ce145d39410e5500358792/610198544/610198544.jpg@s_2,w_90,h_90","title":"See You Again","pic_big":"http://qukufile2.qianqian.com/data2/pic/e8c14b9e65ce145d39410e5500358792/610198544/610198544.jpg@s_2,w_150,h_150","album_title":"See You Again"},{"all_rate":"96,128,224,320,flac","song_id":"289627704","rank_change":"0","biaoshi":"lossless,perm-1","author":"Imagine Dragons","album_id":"289626756","pic_small":"http://qukufile2.qianqian.com/data2/pic/62a47df196c412a76aff95fb6ab76f31/289626766/289626766.jpg@s_2,w_90,h_90","title":"Demons","pic_big":"http://qukufile2.qianqian.com/data2/pic/62a47df196c412a76aff95fb6ab76f31/289626766/289626766.jpg@s_2,w_150,h_150","album_title":"All Time Rock, Vol. 3"}],"bg_color":"0xEDF4FC","web_url":"","name":"欧美金曲榜","comment":"实时展现千千音乐最热门欧美歌曲排行","pic_s192":"http://business.cdn.qianqian.com/qianqian/pic/bos_client_9362a5a55277e6fb271010a45bc99e17.jpg","pic_s260":"http://hiphotos.qianqian.com/ting/pic/item/8b13632762d0f7035cb3feda0afa513d2697c5b7.jpg"}]}';

//原生实现ajax
var oReq = new XMLHttpRequest();
oReq.open("GET", "https://api.apiopen.top/musicRankings");
oReq.send();
var data;
oReq.addEventListener("load", function(){
	data =  JSON.parse(oReq.responseText).result;
	let oContainer = document.querySelector(".tabs-v");
	for (var i = 0; i < data.length; i++) {
		// 生成input
		var input = document.createElement("input");
		input.setAttribute("type", "radio");
		input.setAttribute("name", "tabs-v");
		input.setAttribute("id", "tab" + (i + 1) + "-v");
		if (i == 0) {
			input.setAttribute("checked", "checked");
		}
		oContainer.appendChild(input);
		//生成label
		var label = document.createElement("label");
		label.setAttribute("for", "tab" + (i + 1) + "-v");
		label.innerHTML =
			'<img src="' + data[i].bg_pic + '"><p>' + data[i].name + "</p>";
		oContainer.appendChild(label);
		//生成content
		var content = document.createElement("div");
		content.classList.add("tab-content");
		oContainer.appendChild(content);
		var div = document.createElement("div");
		content.appendChild(div);
		var txtTab = document.createElement("div");
		txtTab.classList.add("txt-tab");
		div.appendChild(txtTab);
		var imgTab = document.createElement("div");
		imgTab.classList.add("img-tab");
		imgTab.style.backgroundImage = 'url("' + data[i].pic_s192 + '")';
		div.appendChild(imgTab);
		let songData = data[i].content;
		//生成song
		for (var j = 0; j < songData.length; j++) {
			var song = document.createElement("div");
			song.classList.add("song");
			song.setAttribute("onclick", "show(" + songData[j].song_id + ")");
			song.setAttribute("ontouchstart", "over()");
			song.setAttribute("ontouchend", "out()");
			txtTab.appendChild(song);
			song.style.backgroundImage = 'url("' + songData[j].pic_big + '")';
			var dl = document.createElement("dl");
			dl.innerHTML = "<dt>歌名:</dt>	<dd title='" + songData[j].title + "'>" + songData[j].title + "</dd><dt>歌手:</dt><dd>" +
				songData[j].author + "</dd><dt>专辑:</dt><dd title='" + songData[j].album_title + "'>" + songData[j].album_title +
				"</dd>";
			song.appendChild(dl);
		}
	}
});
// 链接到指定歌曲
function show(id) {
	window.open("http://music.taihe.com/song/" + id, "_blank");
}
function over {
	event.target.classList.add("hover");
}
function out {
	event.target.classList.remove("hover");
}
